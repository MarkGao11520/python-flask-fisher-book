# 11.1 忘记密码

### 1.重置密码流程分析

重置密码主要流程如下：
![image.png](https://upload-images.jianshu.io/upload_images/7220971-974e8b43209b8e07.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
其中，发送重置密码邮件后的流程如下：
![image.png](https://upload-images.jianshu.io/upload_images/7220971-bf0862fd7d3a3c64.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

### 2.first_or_404
视图函数接受用户填写的email账号，如果不存在应该跳转到404界面，这个逻辑flask-SQLAlchemy为我们提供了良好的封装，不需要手动去处理,只需要调用Query的first_or_404()方法即可
```python
user = User.query.filter_by(email=account_email).first_or_404()
```
