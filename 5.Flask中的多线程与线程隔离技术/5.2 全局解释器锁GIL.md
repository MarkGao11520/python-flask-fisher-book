# 5.2 全局解释器锁GIL

#### python不能充分利用多核CPU的优势：
因为python有一个全局解释器锁GIL（Global Interceptor Lock），这个全局解释器锁会不管有多少个核，我们一个进程有多少个线程，都限制了同一时间只能在一个核上运行一个线程。

为了解决线程安全问题引用了锁，python中有两种锁
- 细粒度锁：由程序员手动加锁
- 粗粒度锁：有python在解释器上加锁，同一时间只能运行一个核。

python有很多全局解释器，如cpython和jpython。GIL只是加在最常见的cpython上的，所以使用jpython可以去掉这个限制。

也可以采用多进程的方式来解决这个问题，但是这样会带来其他的问题，如多进程通信技术，进程切换带来的开销等


#### python的多线程到底是不是鸡肋
我们的程序从一个时间段内最多的操作类型，可以分类IO密集型和CPU密集型
- IO密集型：一个时间段内，查询数据库，请求网络资源，读写文件等操作居多的，则属于IO密集型。
- CPU密集型：一个时间段内，严重依赖CPU计算资源的操作（如圆周率的计算）非常多，则属于CPU密集型。

而我们大部分的编程都是IO密集型的，对于IO密集型的程序来源，Python的多线程是有意义的，例如在进行一个数据库查询的时候，大部分的时间都是在等待结果返回，等待的这段时间并不消耗CPU的资源，不如让给其他线程去执行。

