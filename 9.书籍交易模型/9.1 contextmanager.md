# 9.2 contextmanager

### 1.contextmanager简单讲解
contextmanager可以简化上下文管理器，不需要我们编写\_\_enter\_\_和\_\_exit__函数。他给了我们一个机会，让我们把之前一个不是上下文管理器的类变成一个上下文管理器，而不需要我们去修改这个类的源代码

其中的yield的作用，是中断当前函数执行流程，先去执行yield出去的部分的代码执行流程

下面的代码的作用，在书籍前后自动加上《》
```python
@contextmanager
def book_mark():
    print('《', end='')
    yield
    print('》', end='')


with book_mark():
    print('钢铁',end='')
```

### 2.结合继承，contextmanager，yield，rollback来简化try-except的数据库事务代码


